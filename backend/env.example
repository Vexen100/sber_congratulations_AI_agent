# Copy to .env and adjust as needed

APP_NAME=Sber Congratulations AI Agent (MVP)
APP_ENV=dev
TZ=Europe/Moscow

# SQLite (relative to backend/)
DATABASE_URL=sqlite+aiosqlite:///./data/app.db

# How many days ahead to look for upcoming events
LOOKAHEAD_DAYS=7
# Max recipients per holiday event (demo safety; prevents token blow-up)
MAX_HOLIDAY_RECIPIENTS=12
# Max number of GigaChat image generations per single agent run (speed/token safety)
MAX_GIGACHAT_IMAGES_PER_RUN=5

# Sender configuration (MVP: file outbox)
SEND_MODE=file
OUTBOX_DIR=./data/outbox

# Real email sending via SMTP (optional)
# To enable, set: SEND_MODE=smtp and configure below.
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=
SMTP_STARTTLS=true
SMTP_SSL=false
SMTP_TIMEOUT_SEC=15

# Safety:
# - By default, demo/test recipients are blocked (e.g., *@example.com and demo clients).
# - For extra safety, set an allowlist of domains for real sending:
#   SMTP_ALLOWLIST_DOMAINS=gmail.com,mycompany.com
SMTP_ALLOWLIST_DOMAINS=
# If you really want to allow sending to any domain (not recommended), set:
SMTP_ALLOW_ALL_RECIPIENTS=false

# LLM (optional)
# Default is "template" (offline deterministic). To enable LLM:
# LLM_MODE=openai
# OPENAI_API_KEY=...
LLM_MODE=template

# OpenAI-compatible endpoint (OpenAI / vLLM / LM Studio / etc.)
# OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.5
OPENAI_TIMEOUT_SEC=20

# Image generation mode
IMAGE_MODE=pillow

# GigaChat (optional)
# To enable:
#   LLM_MODE=gigachat
#   (and/or) IMAGE_MODE=gigachat
#   GIGACHAT_CREDENTIALS=...   (Authorization Key)
GIGACHAT_CREDENTIALS=
GIGACHAT_SCOPE=GIGACHAT_API_PERS
GIGACHAT_OAUTH_URL=https://ngw.devices.sberbank.ru:9443/api/v2/oauth
GIGACHAT_BASE_URL=https://gigachat.devices.sberbank.ru/api/v1
GIGACHAT_MODEL=GigaChat
GIGACHAT_TEMPERATURE=
# Timeout in seconds for GigaChat HTTP calls (text)
GIGACHAT_TIMEOUT_SEC=30
# Timeout in seconds for image download (can be higher for demo, e.g. 60)
GIGACHAT_IMAGE_TIMEOUT_SEC=60

# TLS certificates (recommended to install Минцифры root CA)
GIGACHAT_VERIFY_SSL_CERTS=true
GIGACHAT_CA_BUNDLE_FILE=


